<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
  </head>
  <body>
    <div class="box" style="background-color: green">
      文本节点
      <!-- 我是注释节点 -->
      <h1>我是标题标签</h1>
      <a href="">我是超链接标签</a>
      <p>我是段落标签</p>
    </div>

    <script>
      // 封装childNodes:
      // 遍历一个父元素 找到他的子元素节点
      // 有数字参数 -> 某一个对应nodeType的子元素
      // 没有数字参数 -> 子元素节点的集合
      let div = document.getElementsByTagName('div')[0]
      console.log(div.childNodes)

      Element.prototype.getChild = function (index) {
        let childNodes = this.childNodes,
            len = childNodes.length,
            item,
            type = typeof(index)

        let res = { // 伪数组
          length: 0,
          push: Array.prototype.push,
          splice: Array.prototype.splice
        }

        for (let i = 0; i < len; i++) {
          item = childNodes[i]
          if (item.nodeType === 1) {
            res.push(item)
          }
        }
        if (index !== undefined && type !== 'number') {
          return undefined
        }

        return index === undefined ? res: res[index]
      }

    </script>

  </body>
</html>
